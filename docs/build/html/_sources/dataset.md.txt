# Dataset creation


This document describes the structure and format of data expected by the framework as well as general steps necessary to prepare this data for training and, ultimately, inference.  


## Data

## Augmentation and resizing

Depending on the size of available data, we may need to do offline or online augmentation. 
Offline augmentation will expand the size of the dataset by creating additional images from the original dataset and saving them into disk. 
Online augmentaion will make use of the original dataset by chaning it slightly on the fly, e.g. whilst reading images from disk in DataSet class.

So we need to provide two options: reading and augmenting images on the fly (e.g. apply_augmentation=True) and just reading images without any augmentation (apply_transform=False). IN both cases, we need to resize the images to fulfill the network requirements. 

Hence within the transform itself, we should have two options: augmentation and resizing.
Augmentation: Yes / No, depending on the data we have
Resizing: Yes - we must always ensure the data aare of proper size

## Where do we apply augmentation and resizing?

- offline : augment once and then only resize
- online: augment and resize


## PH2 dataset calss

Class to handle PH2 data. The file structure for PH2 dataset is as following:
    * root_dir
        * sampleID_1
            * sampleID_1_Dermoscopic_Image
                * sampleID_1.bmp
            * sampleID_1_lesion
            *    sampleID_1_lesion.bmp
        * sampleID_2
            * sampleID_2_Dermoscopic_Image
                * sampleID_2.bmp
            * sampleID_2_lesion
                * sampleID_2_lesion.bmp

    - root_dir is a folder containing all data;
    - sampleID_1, sampleID_2 etc. are the folders containing individual samples with ID numbers sampleID_1, sampleID_2 etc;
    - sampleID_1_Dermoscopic_Image is a folder containing an image whose sample ID is sampleID_1;
    - sampleID_1_lesion is a folder containing a corresponding mask whose sample ID is sampleID_1;
    - sampleID_1.bmp and sampleID_1_lesion.bmp are the respective image and mask for sample ID sample_ID1.

    Note that only ONE image per folder is expected, e.g. one image in sampleID_2_Dermoscopic_Image folder,
    one mask in sample1_lesion folder


Method ```_get_ph2dataset_paths``` returns paths to images and masks. These paths are then passed into the parent class UNetData that returns a dictionary containing an image and a mask. 